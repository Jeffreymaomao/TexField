(()=>{"use strict";var e={72:(e,t,n)=>{n.d(t,{A:()=>yt});var i=n(1601),s=n.n(i),o=n(6314),r=n.n(o),a=n(4417),l=n.n(a),d=new URL(n(8909),n.b),f=new URL(n(8149),n.b),c=new URL(n(9495),n.b),h=new URL(n(4352),n.b),z=new URL(n(7350),n.b),m=new URL(n(7542),n.b),p=new URL(n(8003),n.b),u=new URL(n(4139),n.b),x=new URL(n(3989),n.b),g=new URL(n(3438),n.b),k=new URL(n(6116),n.b),b=new URL(n(1460),n.b),w=new URL(n(2665),n.b),y=new URL(n(361),n.b),v=new URL(n(4027),n.b),T=new URL(n(1866),n.b),L=new URL(n(1736),n.b),S=new URL(n(3096),n.b),K=new URL(n(346),n.b),$=new URL(n(1752),n.b),E=new URL(n(1032),n.b),M=new URL(n(739),n.b),X=new URL(n(5371),n.b),_=new URL(n(821),n.b),R=new URL(n(8661),n.b),D=new URL(n(2045),n.b),U=new URL(n(7759),n.b),C=new URL(n(2341),n.b),A=new URL(n(1341),n.b),N=new URL(n(4655),n.b),I=new URL(n(1304),n.b),B=new URL(n(2942),n.b),F=new URL(n(1150),n.b),P=new URL(n(8213),n.b),j=new URL(n(4701),n.b),q=new URL(n(2447),n.b),O=new URL(n(1264),n.b),H=new URL(n(8854),n.b),W=new URL(n(6038),n.b),Y=new URL(n(1856),n.b),G=new URL(n(7334),n.b),J=new URL(n(5718),n.b),V=new URL(n(9367),n.b),Q=new URL(n(4679),n.b),Z=new URL(n(1857),n.b),ee=new URL(n(8448),n.b),te=new URL(n(3030),n.b),ne=new URL(n(1766),n.b),ie=new URL(n(3023),n.b),se=new URL(n(1791),n.b),oe=new URL(n(8713),n.b),re=new URL(n(4542),n.b),ae=new URL(n(7460),n.b),le=new URL(n(9412),n.b),de=new URL(n(5581),n.b),fe=new URL(n(5909),n.b),ce=new URL(n(9095),n.b),he=new URL(n(5983),n.b),ze=new URL(n(8527),n.b),me=new URL(n(3913),n.b),pe=r()(s()),ue=l()(d),xe=l()(f),ge=l()(c),ke=l()(h),be=l()(z),we=l()(m),ye=l()(p),ve=l()(u),Te=l()(x),Le=l()(g),Se=l()(k),Ke=l()(b),$e=l()(w),Ee=l()(y),Me=l()(v),Xe=l()(T),_e=l()(L),Re=l()(S),De=l()(K),Ue=l()($),Ce=l()(E),Ae=l()(M),Ne=l()(X),Ie=l()(_),Be=l()(R),Fe=l()(D),Pe=l()(U),je=l()(C),qe=l()(A),Oe=l()(N),He=l()(I),We=l()(B),Ye=l()(F),Ge=l()(P),Je=l()(j),Ve=l()(q),Qe=l()(O),Ze=l()(H),et=l()(W),tt=l()(Y),nt=l()(G),it=l()(J),st=l()(V),ot=l()(Q),rt=l()(Z),at=l()(ee),lt=l()(te),dt=l()(ne),ft=l()(ie),ct=l()(se),ht=l()(oe),zt=l()(re),mt=l()(ae),pt=l()(le),ut=l()(de),xt=l()(fe),gt=l()(ce),kt=l()(he),bt=l()(ze),wt=l()(me);pe.push([e.id,`@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(${ue}) format("woff2"),url(${xe}) format("woff"),url(${ge}) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(${ke}) format("woff2"),url(${be}) format("woff"),url(${we}) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(${ye}) format("woff2"),url(${ve}) format("woff"),url(${Te}) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(${Le}) format("woff2"),url(${Se}) format("woff"),url(${Ke}) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(${$e}) format("woff2"),url(${Ee}) format("woff"),url(${Me}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(${Xe}) format("woff2"),url(${_e}) format("woff"),url(${Re}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(${De}) format("woff2"),url(${Ue}) format("woff"),url(${Ce}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(${Ae}) format("woff2"),url(${Ne}) format("woff"),url(${Ie}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(${Be}) format("woff2"),url(${Fe}) format("woff"),url(${Pe}) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(${je}) format("woff2"),url(${qe}) format("woff"),url(${Oe}) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(${He}) format("woff2"),url(${We}) format("woff"),url(${Ye}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(${Ge}) format("woff2"),url(${Je}) format("woff"),url(${Ve}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(${Qe}) format("woff2"),url(${Ze}) format("woff"),url(${et}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(${tt}) format("woff2"),url(${nt}) format("woff"),url(${it}) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(${st}) format("woff2"),url(${ot}) format("woff"),url(${rt}) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(${at}) format("woff2"),url(${lt}) format("woff"),url(${dt}) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(${ft}) format("woff2"),url(${ct}) format("woff"),url(${ht}) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(${zt}) format("woff2"),url(${mt}) format("woff"),url(${pt}) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(${ut}) format("woff2"),url(${xt}) format("woff"),url(${gt}) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(${kt}) format("woff2"),url(${bt}) format("woff"),url(${wt}) format("truetype")}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.11"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.2777777778em;margin-right:-.5555555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.1666666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.6666666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.4566666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.1466666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.7142857143em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.8571428571em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.1428571429em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.2857142857em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.4285714286em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.7142857143em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.0571428571em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.4685714286em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.9628571429em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.5542857143em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.7777777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.8888888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.1111111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.3044444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.7644444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.5833333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.7283333333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.0733333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.4861111111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.4402777778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.7277777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.2893518519em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.4050925926em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.462962963em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.5208333333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.2002314815em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.4398148148em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.2410800386em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2892960463em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.337512054em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.3857280617em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.4339440694em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.4821600771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.5785920926em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.6943105111em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8331726133em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.1996142719em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.2009646302em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.2411575563em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.2813504823em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.3215434084em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.3617363344em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.4019292605em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.4823151125em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.578778135em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.6945337621em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.8336012862em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}\n`,""]);const yt=pe},6710:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(1601),s=n.n(i),o=n(6314),r=n.n(o)()(s());r.push([e.id,"/* ---- */\n\n.mathnote-container {\n    display: block;\n    width: 100%;\n    border-style: solid;\n    border-color: gray;\n    border-width: 0.5px 0px;\n}\n\n/* ---- */\n.katex-display {\n    margin: 0;\n}\n\n.katex-display.fleqn > .katex {\n    padding-left: 0;\n}\n\n.katex {\n    line-height: 13px;\n}\n\n/**********************************\n * mathnote one block (math mode) *\n **********************************/\n\n.mathnote-latex {\n    --padding-width: 12px;\n    --background-color: rgb(245,245,245);\n    --border-color: rgb(100,100,100);\n    --error-text-color: rgb(200,30,30);\n    --error-border-color: rgb(200,30,30);\n    --dark-error-color: rgb(200,100,100);\n}\n\n/** ---\n * LaTeX is not editing (default)\n ** --- */\n\n.mathnote-block {\n    border-color: gray;\n    border-style: solid;\n    border-width: 0.5px 1px;\n}\n\n.mathnote-block.focus {\n    outline: 1px solid rgb(10,100,200);\n    border-color: rgb(10,100,200);\n}\n\n.mathnote-block .mathnote-math-textarea {\n    /* textarea in math-mode*/\n    overflow: hidden;\n    vertical-align: middle;\n    white-space: nowrap;\n    resize: none;\n    border: none;\n    outline: none;\n    \n    height: auto;\n    width: auto;\n    background-color: transparent;\n    min-width: 200px;\n    padding: 15px 15px;\n    font: 14px 'Menlo', monospace;\n    -moz-tab-size : 4;\n      -o-tab-size : 4;\n         tab-size : 4;\n    /* when it is not editing */\n    display: none;\n}\n\n.mathnote-block .mathnote-latex {\n    display: block;\n    position: relative;\n    transform: none;\n    border: none;\n    background-color: transparent;\n    min-width: 200px;\n    vertical-align: bottom;\n    padding: 15px 15px;\n    cursor: text;\n    transition: height, transform 0.05s ease-out;\n    cursor: pointer;\n    user-select: none;\n}\n\n.mathnote-block .mathnote-latex::after {\n    display: none;\n    transition: height, transform 0.05s ease-out;\n}\n\n.mathnote-block .mathnote-latex.error{\n    max-width: 100%;\n    white-space: wrap;\n    color: var(--error-text-color);\n}\n\n.mathnote-block .mathnote-latex.isEmpty::before {\n    content: 'Empty LaTeX';\n    font: 14px 'Menlo', monospace;\n    color: #bbb;\n}\n\n/** ---\n * LaTeX is editing\n ** --- */\n\n /* When the LaTeX is editing => show textarea & LaTeX block */\n\n.mathnote-block.editing .mathnote-math-textarea {\n    display: block;\n    position: relative;\n}\n\n.mathnote-block.editing .mathnote-latex {\n    position: absolute;\n    bottom: 100%;\n    left: 0%;\n    transform: translate(0, -10px);\n    border-radius: 6px;\n    padding: var(--padding-width);\n    min-width: 45px;\n    background-color: var(--background-color);\n    border: 1px solid var(--border-color);\n}\n\n.mathnote-block.editing .mathnote-latex::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    transform: rotate(45deg);\n    left: var(--padding-width);\n    bottom: calc(2px - var(--padding-width));\n    width: calc(var(--padding-width) * 1.414);\n    height: calc(var(--padding-width) * 1.414);\n    background-color: var(--background-color);\n    border-bottom: 1px solid var(--border-color);\n    border-right: 1px solid var(--border-color);\n    cursor: text;\n}\n\n\n.mathnote-block.editing .mathnote-latex.error {\n    border-color: var(--error-border-color);\n    color: var(--error-border-color);\n}\n\n.mathnote-block.editing .mathnote-latex.error::after {\n    background-color: var(--background-color);\n    border-bottom: 1px solid var(--error-border-color);\n    border-right: 1px solid var(--error-border-color);\n}\n\n/* show label */\n.mathnote-block {\n    padding-right: 50px;\n}\n\n.mathnote-label {\n    position: absolute;\n    padding-right: 2px;\n    right: 0;\n    top: 50%;\n    transform: translate(0, -50%);\n    text-align: middle;\n    cursor: pointer;\n    user-select: none;\n}\n\n.katex .mtable .col-align-r {\n    vertical-align: sub;\n}\n\n.katex .vlist-r+.vlist-r {\n    display: none;\n}\n\n.katex .tag {\n    display: none;\n}\n/* ---------------- */\n\nbody.dark .mathnote-text-textarea,\nbody.dark .mathnote-math-textarea {\n    background-color: #222;\n    color: #eee;\n}\n\nbody.dark .mathnote-block .mathnote-latex.error{\n    color: rgb(230, 100, 100);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex,\nbody.dark .mathnote-block.editing .mathnote-latex::after {\n    border-color: rgba(30, 150, 150);\n    background-color: rgb(38, 59, 74);\n    color: rgb(200, 250, 250);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex,\nbody.dark .mathnote-block.editing .mathnote-latex::after {\n    border-color: rgba(150, 150, 150);\n    background-color: rgb(50,50,50);\n    color: rgb(250, 250, 250);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex.error,\nbody.dark .mathnote-block.editing .mathnote-latex.error::after {\n    border-color: rgb(200, 30, 30);\n    background-color: rgb(74, 54, 53);\n    color: rgb(230, 201, 197);\n}\n\n/*.mathnote-block.textmode textarea.mathnote-text-textarea {\n    width: 100%;\n    overflow: hidden;\n    resize: none;\n    vertical-align: middle;\n    font-family: 'BiauKai', 'LatinModernRoman', 'Symbola',\n                 'Times New Roman', 'Times', serif;  \n    font-size: 1.15em;\n    border: none;\n    white-space: nowrap;\n}\n\n.mathnote-block.focus {\n    box-shadow: none;\n    border-style: solid;\n    border-radius: 0px;\n    border-color: #6a93d2;\n    border-width: 1px 1px;\n\n    box-shadow: 0 0 2px #6a93d2,\n                0 0 2px #6a93d2;\n}*/\n",""]);const a=r},4082:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(1601),s=n.n(i),o=n(6314),r=n.n(o)()(s());r.push([e.id,"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}",""]);const a=r},1016:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(1601),s=n.n(i),o=n(6314),r=n.n(o),a=n(4417),l=n.n(a),d=new URL(n(9431),n.b),f=new URL(n(7121),n.b),c=new URL(n(7083),n.b),h=new URL(n(237),n.b),z=r()(s()),m=l()(d),p=l()(f),u=l()(c),x=l()(h);z.push([e.id,`* {\n    box-sizing: border-box;\n    position: relative;\n}\n\nbody {\n    font-family:Helvetica, Arial, KaTeX_Main, sans-serif;\n    overflow: hidden;\n    width: 100vw;\n    height: 100vh;\n}\n\na {\n    text-decoration: none;\n}\n\n/**********************************\n * help page *\n **********************************/\n\n.help {\n    z-index: 100;\n    display: block;\n    position: absolute;\n    width: 50vw;\n    height: 80vh;\n    min-width: 650px;\n\n    right: 50%;\n    bottom: 50%;\n    border-radius: 20px;\n    background-color: rgba(250,250,250);\n    box-shadow: 0 0 15px #aaa;\n    overflow: hidden;\n    color: black;\n\n    transform: translate(50%,50%);\n}\n\nbody.dark .help {\n    color: white;\n    background-color: #333;\n    box-shadow: 0 0 15px #000;\n}\n\n.help.hide {\n    width: 0px;\n    height: 0px;\n    right: 30px;\n    bottom: 25px;\n    min-width: 0;\n    transform: translate(0px,0px);\n}\n\n.help-container {\n    height: 100%;\n    padding: 50px 30px;\n    overflow-y: scroll;\n}\n\n/* Hide scrollbar for Chrome, Safari and Opera */\n.help-container::-webkit-scrollbar {\n  display: none;\n}\n\n/* Hide scrollbar for IE, Edge and Firefox */\n.help-container {\n  -ms-overflow-style: none;  /* IE and Edge */\n     scrollbar-width: none;  /* Firefox */\n}\n\n.help-container footer{\n    border-top: 1px solid #888;\n    border-bottom: 1px solid #888;\n    padding: 15px;\n    color: #888;\n}\n\n/* --- */\n\n.help-container #light-logo {\n    width: 120px;\n    height: 120px;\n    transition: 0.3s;\n    opacity: 1;\n}\n/* --- */\n.help-container h1 {\n    font-weight: 400;\n    text-align: center;\n    font-size: 30pt;\n    padding: 10px;\n    border-bottom: 1px solid #777;\n}\n\nbody.dark .help-container h1  {\n    border-bottom: 1px solid #888;\n}\n\n.help-container h2 {\n    font-weight: 400;\n}\n\n/* --- */\n.help-container strong {\n    font-weight: 400;\n}\n.help-container p {\n    padding: 20px;\n    font-weight: 200;\n}\n\n/* --- */\n\n.help-container table {\n    border-collapse: collapse;\n    margin: 0px 5px 20px 5px;\n    font-weight: 200;\n    line-height: 16pt;\n}\n\n.help-container thead th{\n    border-bottom: 1.5px solid #888;\n    border-top: 1.5px solid #888;\n    border-right: 1.2px solid #ccc;\n    padding: 10px 5px;\n    text-align: center;\n    font-size: 12pt;\n    background-color: #eee;\n    font-weight: 400;\n}\n\nbody.dark .help-container thead th {\n    background-color: #222;\n}\n\n.help-container tbody td{\n    border-right: 1.2px solid #ccc;\n    border-bottom: 1.2px solid #ccc;\n    text-align: center;\n    padding: 5px 6px;\n    font-size: 11pt;\n    min-width: 180px;\n}\n\n.help-container thead th:last-child,\n.help-container tbody td:last-child {\n    border-right: none;\n}\n\nkbd {\n    background-color: #eee;\n    border: 1px solid #bbb;\n    box-shadow: inset 0px -1px 0px #bbb;\n    border-radius: 5px;\n    padding: 2px 5px;\n    font-size: 10pt;\n    color: #444;\n}\n\nbody.dark kbd {\n    color: #eee;\n    background-color: #777;\n    border: 1px solid #888;\n    box-shadow: inset 0px -1px 0px #888;\n}\n\n.help-container #shortcuts {\n    margin-bottom: 70px;\n}\n\n.help a {\n    color: rgba(100, 160, 250);\n}\n\n.help a:hover{\n    font-weight:400;\n}\n\n/* --- */\n.help .close {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n    width: 32px;\n    height: 32px;\n    opacity: 0.3;\n    cursor: pointer;\n}\n\n.help .close:hover {\n    opacity: 1;\n}\n\n.help .close:before,\n.help .close:after {\n    content: ' ';\n    position: absolute;\n    left: 15px;\n    height: 25px;\n    width: 2px;\n    background-color: #333;\n}\n\n.help .close:before {\n    transform: rotate(45deg);\n}\n\n.help .close:after {\n    transform: rotate(-45deg);\n}\n\nbody.dark .help .close:before,\nbody.dark .help .close:after {\n    background-color: #bbb;\n}\n\n/**********************************\n * link bar *\n **********************************/\n.link-container {\n    display: flex;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    padding: 10px 15px;\n}\n\n.link-container a,\n.link-container button {\n    border: none;\n    padding: 0;\n    display: inline-block;\n    width: 25px;\n    height: 25px;\n    margin: 5px;\n    cursor: pointer;\n    opacity: 0.5;\n    transform: scale(1.0);\n    transition: 0.2s;\n}\n\n.link-container a:hover,\n.link-container button:hover {\n    opacity: 1.0;\n    transform: scale(1.1);\n}\n\n.link-container a:active {\n    transform: scale(0.9);\n}\n/* --- */\n.link-github {\n    background: url(${m});\n}\nbody.dark .link-github {\n    background: url(${p});\n}\n/* --- */\n.link-help {\n    background: url(${u});\n}\nbody.dark .link-help {\n    background: url(${x});\n}\n\n\n/**********************************\n * texfield-container *\n **********************************/\n/* default */\n.texfield-container {\n    cursor: crosshair;\n}\n\n.texfield-container .note{\n    cursor: pointer;\n}\n\n.texfield-container .path{\n    cursor: pointer;\n}\n\n\n/* dragging canvas */\n.texfield-container.dragging {\n    cursor: grabbing;\n}\n\n/* moving note */\n.texfield-container.movingNote{\n    cursor: default;\n}\n\n.texfield-container.movingNote .note{\n    cursor: grab;\n}\n\n/* drawing path */\n.texfield-container.pointer {\n    cursor: crosshair;\n}\n\n.texfield-container.drawingPath.dragging {\n    cursor: grabbing;\n}\n\n\n.texfield-container.drawingPath .note {\n    cursor: crosshair;\n}\n\n\n\n/**********************************\n * other container set by JS *\n **********************************/\n\n.texfield-canvas {\n/*    border: 1px solid red;*/\n}\n\n.texfield-path-container {\n}\n\n.texfield-note-container {\n\n}\n\n/**********************************\n * NOTE *\n **********************************/\n\n.note {\n    position: absolute;\n    display: block;\n    white-space: nowrap;\n    margin: 0;\n    padding: 8px;\n    border: 1px solid #888;\n    background-color: white;\n    border-radius: 6px;\n    transform: translate(-50%, -50%);\n}\n\n.texfield-container.movingNote .note:after,\n.texfield-container.drawingPath .note:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n/*    background-color: rgba(250, 250, 250, 0.6);*/\n}\n\n.note.focus {\n    outline: 1px solid #d94b58;\n}\n\n/* --- */\n\n@keyframes path-blink {\n    0% {\n        stroke-width: 4px;\n    }\n    50% {\n        stroke-width: 2px;\n    }\n    100% {\n        stroke-width: 4px;\n    }\n}\n\n.path {\n    stroke: #ccc;\n    stroke-width: 2;\n}\n\n.path.focus {\n    stroke-width: 4px;\n}\n\n/* --- dark mode --- */\n\nbody.dark.drawingPath .note:after {\n/*    background-color: rgba(100, 100, 100, 0.6);*/\n}\n\nbody.dark .note {\n    background-color: #222;\n    color: #eee;\n}\n\nbody.dark .note.focus {\n    outline: 1px solid #e3e166;\n}\n\nbody.dark .path {\n    stroke: #999;\n}\n\n/* --- */\n\n@media print {\n    * {\n        -webkit-print-color-adjust: exact ;\n        color-adjust: exact ;\n    }\n}\n\n\n\n\n\n\n\n`,""]);const g=z},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<e.length;d++){var f=[].concat(e[d]);i&&r[f[0]]||(void 0!==o&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=o),n&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=n):f[2]=n),s&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=s):f[4]="".concat(s)),t.push(f))}},t}},4417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:e=>{e.exports=function(e){return e[1]}},5072:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},r=[],a=0;a<e.length;a++){var l=e[a],d=i.base?l[0]+i.base:l[0],f=o[d]||0,c="".concat(d," ").concat(f);o[d]=f+1;var h=n(c),z={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(z);else{var m=s(z,i);i.byIndex=a,t.splice(a,0,{identifier:c,updater:m,references:1})}r.push(c)}return r}function s(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=i(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=n(o[r]);t[a].references--}for(var l=i(e,s),d=0;d<o.length;d++){var f=n(o[d]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}o=l}}},7659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,s&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9495:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_AMS-Regular.ttf"},8149:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_AMS-Regular.woff"},8909:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_AMS-Regular.woff2"},7542:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Bold.ttf"},7350:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Bold.woff"},4352:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Bold.woff2"},3989:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Regular.ttf"},4139:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Regular.woff"},8003:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Caligraphic-Regular.woff2"},1460:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Bold.ttf"},6116:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Bold.woff"},3438:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Bold.woff2"},4027:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Regular.ttf"},361:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Regular.woff"},2665:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Fraktur-Regular.woff2"},3096:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Bold.ttf"},1736:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Bold.woff"},1866:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Bold.woff2"},1032:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-BoldItalic.ttf"},1752:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-BoldItalic.woff"},346:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-BoldItalic.woff2"},821:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Italic.ttf"},5371:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Italic.woff"},739:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Italic.woff2"},7759:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Regular.ttf"},2045:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Regular.woff"},8661:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Main-Regular.woff2"},4655:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-BoldItalic.ttf"},1341:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-BoldItalic.woff"},2341:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-BoldItalic.woff2"},1150:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-Italic.ttf"},2942:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-Italic.woff"},1304:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Math-Italic.woff2"},2447:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Bold.ttf"},4701:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Bold.woff"},8213:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Bold.woff2"},6038:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Italic.ttf"},8854:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Italic.woff"},1264:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Italic.woff2"},5718:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Regular.ttf"},7334:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Regular.woff"},1856:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_SansSerif-Regular.woff2"},1857:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Script-Regular.ttf"},4679:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Script-Regular.woff"},9367:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Script-Regular.woff2"},1766:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size1-Regular.ttf"},3030:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size1-Regular.woff"},8448:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size1-Regular.woff2"},8713:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size2-Regular.ttf"},1791:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size2-Regular.woff"},3023:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size2-Regular.woff2"},9412:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size3-Regular.ttf"},7460:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size3-Regular.woff"},4542:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size3-Regular.woff2"},9095:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size4-Regular.ttf"},5909:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size4-Regular.woff"},5581:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Size4-Regular.woff2"},3913:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Typewriter-Regular.ttf"},8527:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Typewriter-Regular.woff"},5983:(e,t,n)=>{e.exports=n.p+"fonts/KaTeX_Typewriter-Regular.woff2"},7121:(e,t,n)=>{e.exports=n.p+"img/github.dark.svg"},9431:(e,t,n)=>{e.exports=n.p+"img/github.light.svg"},237:(e,t,n)=>{e.exports=n.p+"img/help.dark.svg"},7083:(e,t,n)=>{e.exports=n.p+"img/help.light.svg"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=i[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var i=n(5072),s=n.n(i),o=n(7825),r=n.n(o),a=n(7659),l=n.n(a),d=n(5056),f=n.n(d),c=n(540),h=n.n(c),z=n(1113),m=n.n(z),p=n(4082),u={};u.styleTagTransform=m(),u.setAttributes=f(),u.insert=l().bind(null,"head"),u.domAPI=r(),u.insertStyleElement=h();s()(p.A,u);p.A&&p.A.locals&&p.A.locals;var x=n(72),g={};g.styleTagTransform=m(),g.setAttributes=f(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=h();s()(x.A,g);x.A&&x.A.locals&&x.A.locals;var k=n(6710),b={};b.styleTagTransform=m(),b.setAttributes=f(),b.insert=l().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=h();s()(k.A,b);k.A&&k.A.locals&&k.A.locals;var w=n(1016),y={};y.styleTagTransform=m(),y.setAttributes=f(),y.insert=l().bind(null,"head"),y.domAPI=r(),y.insertStyleElement=h();s()(w.A,y);w.A&&w.A.locals&&w.A.locals;function v(e,t,n={}){const i=document.createElement(t);return n.class&&(n.class.split(" ").forEach((e=>i.classList.add(e))),delete n.class),n.dataset&&(Object.keys(n.dataset).forEach((e=>i.dataset[e]=n.dataset[e])),delete n.dataset),Object.keys(n).forEach((e=>{i[e]=n[e],i[e]||i.setAttribute(e,n[e])})),Object.keys(n).forEach((e=>{i[e]=n[e]})),e&&e.appendChild(i),i}function T(e,t){if(!e)return null;let n=e;for(;n;){if(n===document.body)return null;if(n.matches(t))return n;n=n.parentElement}return null}function L(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}t=Math.abs(t);const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let i="";for(;t>0;){i=n[(t+Math.floor(1e3*Math.random()))%26]+i,t=Math.floor(t/26*10)}return i}function S(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}.${String(e.getMinutes()).padStart(2,"0")}.${String(e.getSeconds()).padStart(2,"0")}.${String(e.getMilliseconds()).padStart(2,"0")}`}const K=class{constructor(e={}){if(this.id=e.id||L(Date.now().toString()),this.dom={},this.dom.parent=e.parent||document.body,this.createTime=S(),this.id_prefix=e?.id_prefix||this.id,this._id_num=1,this.focusId=null,this.focusing=!1,this.states={},this.isComposing=!1,this.katex=window.katex,!this.katex)throw Error("KaTeX not defined!!!");window.MathEditors||(window.MathEditors=[]),this.katexOutput="html",this.katexOutput="htmlAndMathml",window.MathEditors.push(this),this.initializeDom(),e.states&&this.loadStates(e.states,e.order)}createId(e){return this._id_num+=1,`${this.id_prefix}-${this._id_num-1}`}initializeDom(){this.dom.container=v(this.dom.parent,"div",{class:"mathnote-container",id:this.id}),this.dom.blocks={},this.createEquationDom()}createEquationDom(){const e={id:this.createId(),latex:""},t=this.addMathModeArea(e);return this.dom.container.lastChild&&this.dom.blocks[this.focusId]&&this.dom.blocks[this.focusId].nextSibling?this.dom.blocks[this.focusId].nextSibling&&this.dom.container.insertBefore(t,this.dom.blocks[this.focusId].nextSibling):this.dom.container.appendChild(t),this.orderLabelNum(),!0}addMathModeArea(e){const t=e.id,n=v(null,"div",{class:"mathnote-block",tabIndex:0,id:t}),i=v(n,"textarea",{class:"mathnote-math-textarea",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false",id:`${t}-mathmode-textarea`,placeholder:"Input some LaTeX...",tabIndex:-1,rows:1,value:e.latex||""}),s=v(n,"div",{class:"mathnote-latex"}),o=()=>{""===i.value.trim()?s.classList.add("isEmpty"):s.classList.remove("isEmpty")},r=this.createLabelDom(t);return n.appendChild(r),this.orderLabelNum(),o(),n.addEventListener("focus",function(e){n.classList.add("focus"),s.classList.remove("isEmpty"),this.focusId=t,this.focusing=!0,n.classList.contains("editing")&&i.focus(),o()}.bind(this),!1),n.addEventListener("blur",function(e){this.focusing=!1,n.classList.remove("focus")}.bind(this),!1),n.addEventListener("keydown",function(e){this.mathBlockKeydownEvent(e,n,i)}.bind(this),!1),i.addEventListener("input",function(t){this.adjustTextAreaSize(i),this.renderLaTex(i,s),o(),e.latex=i.value}.bind(this),!1),i.addEventListener("keydown",function(e){this.mathTextAreaKeydownEvent(e,n,i)}.bind(this),!1),i.addEventListener("focus",function(e){this.focusing=!0,n.classList.add("focus")}.bind(this),!1),i.addEventListener("blur",function(e){this.focusing=!1,n.classList.remove("focus"),setTimeout((()=>{document.activeElement!==i&&n.classList.remove("editing")}),0)}.bind(this),!1),setTimeout((()=>{this.adjustTextAreaSize(i),this.renderLaTex(i,s),n.focus(),this.focusId=t}),0),this.dom.blocks[t]=n,this.states[t]=e,n}renderLaTex(e,t){try{t.classList.remove("error"),this.katex.render(e.value,t,{fleqn:!0,displayMode:!0,output:this.katexOutput,throwOnError:!0,trust:!0})}catch(e){if(!e instanceof this.katex.ParseError)return;const n=e.message;t.classList.add("error"),t.innerText=n.replace("KaTeX parse error:","")}}adjustTextAreaSize(e){e.style.height="auto",e.style.width="auto",e.style.height=e.scrollHeight+"px",e.style.width=e.scrollWidth+"px"}mathTextAreaKeydownEvent(e,t,n){if("Tab"===e.key){e.preventDefault();const t=n.selectionStart,i=n.selectionEnd,s=n.value;n.value=s.substring(0,t)+"\t"+s.substring(i),n.selectionStart=n.selectionEnd=t+1}}mathBlockKeydownEvent(e,t,n){if((e.ctrlKey||e.metaKey)&&"/"===e.key){t.classList.toggle("editing")?(this.adjustTextAreaSize(n),n.focus()):t.focus()}else{if(document.activeElement===n)return;if("ArrowUp"===e.key||"ArrowDown"===e.key)this.moveFocusUpDown(e,t);else if(!this.focusId||"Enter"!==e.key||e.shiftKey||e.altKey)if(!this.focusId||"Backspace"!==e.key||e.shiftKey||e.altKey){if(!t.classList.contains("editing")&&!e.ctrlKey&&!e.metaKey){if(["Backspace","CapsLock","Escape","Enter","Meta","Alt","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Home","End","PageUp","PageDown","Insert","Delete","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"].includes(e.key))return;t.classList.toggle("editing");this.adjustTextAreaSize(n),n.focus()}}else this.deleteFocus();else this.createEquationDom()}}createLabelDom(e){return v(null,"div",{class:"mathnote-label"})}orderLabelNum(){requestAnimationFrame(function(){Array.from(this.dom.container.querySelectorAll(".mathnote-label")).forEach(((e,t)=>{e.innerHTML=this.katex.renderToString(`(${t+1})`,{output:this.katexOutput})}))}.bind(this))}deleteFocus(){const e=this.focusId,t=this.dom.blocks[e]?.previousSibling;if(!t)return;this.dom.blocks[e].remove();const n=t.id;this.focusId=n,delete this.dom.blocks[e],delete this.states[e],t.focus()}moveFocusUpDown(e,t){const n=t.nextSibling,i=t.previousSibling;"ArrowDown"===e.key&&n?(n.focus(),this.focusId=n.id):"ArrowUp"===e.key&&i&&(i.focus(),this.focusId=i.id)}loadStates(e,t=null){this.dom.container.innerHTML="";const n=e=>{const t=e.id,n=parseInt(t.split("-").pop());n>=this._id_num&&(this._id_num=n+1);const i=this.addMathModeArea(e);this.dom.container.appendChild(i),this.states[t]=e};t?t.forEach((t=>{n(e[t])})):Object.values(e).forEach((e=>{n(e)})),this.orderLabelNum()}};const $=class{constructor(e={}){this.dom={},this.translate={x:0,y:0},this._background={type:"dot",size:20,lineStyle:"#aaa",lineWidth:1,color:"white"},this.background=Object.assign({},this._background),this.createTime=S(),this.dom.parent=e.parent||document.body,this.mouseClickStart={x:0,y:0},this.isDraggingCanvas=!1,this.draggingCanvasStart={x:0,y:0},this.currentDraggingNote=null,this.focusNote=null,this.drawingPath=!1,this.pathStart={x:0,y:0,id:null},this.initializeDom(),this.windowSize={x:window.innerWidth,y:window.innerHeight};const t=window.localStorage.getItem("isDarkMode");this.isDarkMode=`${t}`?"true"===t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,this.isUserToggleDarkLightMode=!!`${t}`,this.hash=L}initializeDom(){this.dom.container=v(this.dom.parent,"div",{class:"texfield-container",style:"display: block; position: fixed; top: 0; left: 0; overflow: hidden; width: 100vw; height: 100vh;"}),this.dom.canvas=v(this.dom.container,"div",{class:"texfield-canvas",style:"display: block; position: fixed;  overflow: hidden; width: 100%; height: 100%;"}),this.dom.noteContainer=v(this.dom.container,"div",{class:"texfield-note-container",style:"display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%;"}),this.dom.favicon=document.querySelector("#favicon"),this.dom.notes={},this.dom.paths={},this.changeBackground(),this.initializeSVGLayer(),setTimeout((()=>{this.changeDarkLightModeEvent()}),0),this.dom.container.addEventListener("wheel",this.containerWheelEvents.bind(this),{passive:!0}),this.dom.container.addEventListener("dblclick",this.containerDoubleClickEvent.bind(this),!1),this.dom.container.addEventListener("mousedown",this.containerMouseDownEvent.bind(this),!1),this.dom.container.addEventListener("dragenter",this.preventDefaults,!1),this.dom.container.addEventListener("dragover",this.preventDefaults,!1),this.dom.container.addEventListener("drop",this.containerDropEvent.bind(this),!1),window.addEventListener("resize",this.windowResizeEvent.bind(this),!1),document.addEventListener("keydown",this.containerKeyDownEvent.bind(this),!1),document.addEventListener("keyup",this.containerKeyUpEvent.bind(this),!1),document.addEventListener("mousemove",this.containerMouseMoveEvent.bind(this),!1),document.addEventListener("mouseup",this.containerMouseUpEvent.bind(this),!1),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.changeDarkLightModeEvent.bind(this),!1),window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",this.changeDarkLightModeEvent.bind(this),!1)}initializeSVGLayer(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("overflow","visible"),e.style="display: block; width: 100%; height: 100%; position: absolute; left: 0; top: 0;",this.dom.pathContainer=e,this.dom.canvas.appendChild(e),this.dom.noteContainer.appendChild(e)}createBezierCurve(e,t,n){const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.classList.add("path"),i.setAttribute("fill","none"),i.id=n,this.setBezierCurvePath(i,e,t),this.dom.pathContainer.appendChild(i),i}setBezierCurvePath(e,t,n){const i=t.x,s=t.y,o=n.x,r=n.y,a=i+.7*(o-i),l=s,d=o-.7*(o-i),f=r;e.setAttribute("d",`M ${i} ${s} C ${a} ${l}, ${d} ${f}, ${o} ${r}`)}addNote(e,t,n=null,i=null,s=null,o=null){n=n||L(`${e}-${t}-${Date.now()}`.padStart(50,"0")).slice(0,10);const r=v(this.dom.noteContainer,"div",{class:"note",id:n,draggable:!1,style:`display: block; absolute; top: ${t}px; left: ${e}px;`,dataset:{createTime:i||S()}});new K({parent:r,id:n,states:s,order:o});this.dom.notes[n]=r}centerNote(e){if(!window.MathEditors||e>window.MathEditors.length)return;const t=window.MathEditors[e-1];if(!t)return;const n=t.id;if(!n)return;const i=document.querySelector(`#${n}`);if(!i)return;const s=i.getBoundingClientRect(),o=s.left+.5*s.width,r=s.top+.5*s.height,a={x:this.translate.x+.5*window.innerWidth-o,y:this.translate.y+.5*window.innerHeight-r};this.smoothMoveTo(a,200);const l=window.MathEditors.find((e=>e.id===n));if(!l)return;const d=Object.values(l.dom.blocks),f=d[d.length-1];f.focus()}preventDefaults(e){e.preventDefault(),e.stopPropagation()}windowResizeEvent(e){const t=this.windowSize;this.translate.x+=.5*(window.innerWidth-t.x),this.translate.y+=.5*(window.innerHeight-t.y),this.moveToTranslation(),this.windowSize={x:window.innerWidth,y:window.innerHeight}}containerWheelEvents(e){e.ctrlKey||(this.translate.x-=e.deltaX,this.translate.y-=e.deltaY,this.moveToTranslation())}containerDoubleClickEvent(e){e.preventDefault();T(e.target,".note")||this.addNote(e.clientX-this.translate.x,e.clientY-this.translate.y)}containerMouseDownEvent(e){this.focusNote=null,this.checkTranslate(),Object.values(this.dom.notes).forEach((e=>{e.classList.remove("focus")})),Object.values(this.dom.paths).forEach((e=>{e.dom.classList.remove("focus")}));const t=e.target.classList,n=(t.contains("note"),t.contains("path")),i=T(e.target,".note");if(i||n)if(n)this.focusNote=e.target,this.focusNote.classList.add("focus");else if(!e.ctrlKey&&!e.metaKey||!e.shiftKey||this.drawingPath||this.dom.drawingPath)(e.ctrlKey||e.metaKey)&&i?(this.focusNote=i,this.focusNote.classList.add("focus"),this.currentDraggingNote=i,this.startX=e.clientX-i.offsetLeft,this.startY=e.clientY-i.offsetTop):n&&(this.focusNote=e.target,this.focusNote.classList.add("focus"));else{this.drawingPath=!0;const e=i.getBoundingClientRect(),t={x:e.left+.5*e.width-this.translate.x,y:e.top+.5*e.height-this.translate.y,id:i.id};this.dom.drawingPath=this.createBezierCurve(t,t),this.pathStart=t}else this.isDraggingCanvas=!0,this.draggingCanvasStart.x=e.clientX,this.draggingCanvasStart.y=e.clientY,this.dom.container.classList.add("dragging"),this.focusNote=null}containerMouseMoveEvent(e){if(!e.shiftKey&&this.currentDraggingNote){const t=this.dom.noteContainer.getBoundingClientRect(),n=e.clientX-t.left-this.startX+this.translate.x,i=e.clientY-t.top-this.startY+this.translate.y;this.currentDraggingNote.style.left=`${n}px`,this.currentDraggingNote.style.top=`${i}px`;const s=this.currentDraggingNote.id;Object.keys(this.dom.paths).forEach((e=>{if(!e.includes(s))return;const t=this.dom.paths[e],n=this.currentDraggingNote.getBoundingClientRect(),i=n.left+.5*n.width-this.translate.x,o=n.top+.5*n.height-this.translate.y;s===t.start.id?(t.start.x=i,t.start.y=o):s===t.end.id&&(t.end.x=i,t.end.y=o),this.setBezierCurvePath(t.dom,t.start,t.end)}))}else if(e.shiftKey&&this.drawingPath&&this.dom.drawingPath){const t={x:e.clientX-this.translate.x,y:e.clientY-this.translate.y};this.setBezierCurvePath(this.dom.drawingPath,this.pathStart,t,this.pathStart.width,this.pathStart.width)}else if(this.isDraggingCanvas){const t=e.clientX-this.draggingCanvasStart.x,n=e.clientY-this.draggingCanvasStart.y;this.translate.x+=t,this.translate.y+=n,this.moveToTranslation(),this.draggingCanvasStart.x=e.clientX,this.draggingCanvasStart.y=e.clientY}}containerMouseUpEvent(e){if(this.isDraggingCanvas=!1,this.dom.container.classList.remove("dragging"),this.currentDraggingNote)this.currentDraggingNote=null;else if(this.drawingPath&&this.dom.drawingPath&&(this.dom.drawingPath.remove(),e.target.classList.contains("note"))){const t=e.target.id;if(this.pathStart.id===t)return;const n=`${this.pathStart.id}-${t}`;if(Object.keys(this.dom.paths).includes(n))return;const i=e.target.getBoundingClientRect(),s={x:i.left+.5*i.width-this.translate.x,y:i.top+.5*i.height-this.translate.y,id:t};this.dom.paths[n]={start:this.pathStart,end:s,dom:this.createBezierCurve(this.pathStart,s,n)}}this.dom.drawingPath=null,this.drawingPath=!1}containerKeyDownEvent(e){if((e.metaKey||e.ctrlKey)&&(this.dom.container.classList.remove("drawingPath"),this.dom.container.classList.remove("movingNote"),e.shiftKey?this.dom.container.classList.add("drawingPath"):this.dom.container.classList.add("movingNote")),this.focusNote&&"Backspace"===e.key){const e=this.focusNote.classList.contains("note")?"note":"path";if(!window.confirm(`Are you sure to delete this ${e}?`))return;const t=this.focusNote.id;this.focusNote.remove(),delete this.dom.notes[t],Object.keys(this.dom.paths).forEach((e=>{e.includes(t)&&(this.dom.paths[e].dom.remove(),delete this.dom.paths[e])})),window.MathEditors=window.MathEditors.filter((e=>e.id!==t))}else if(e.metaKey||e.ctrlKey)if("e"!==e.key||e.shiftKey||e.altKey)if("e"===e.key&&e.shiftKey&&!e.altKey){e.preventDefault();const t=`TexField-${this.createTime}.tex`;this.exportLaTeX(t)}else if("s"!==e.key||e.shiftKey||e.altKey)"f"!==e.key||e.shiftKey||e.altKey?"b"!==e.key||e.shiftKey||e.altKey?"p"===e.key?(e.preventDefault(),this.printInfiniteCanvas()):"o"===e.key?(e.preventDefault(),this.openDesmos()):"a"===e.key&&e.shiftKey&&!e.altKey?(e.preventDefault(),this.askChatGPT()):e.altKey&&["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9"].includes(e.code)&&this.centerNote(parseInt(e.code.replace("Digit",""))):(this.isUserToggleDarkLightMode||(this.isUserToggleDarkLightMode=!0),this.isDarkMode=!this.isDarkMode,this.changeDarkLightModeEvent(),window.localStorage.setItem("isDarkMode",this.isDarkMode)):(e.preventDefault(),this.toggleFullScreen());else{e.preventDefault();const t=this.getState();console.log(t)}else{e.preventDefault();const t=`TexField-${this.createTime}.json`;this.exportState(t)}}containerKeyUpEvent(){this.dom.container.classList.remove("drawingPath"),this.dom.container.classList.remove("movingNote")}checkTranslate(){const e=this.dom.noteContainer.getBoundingClientRect();this.translate.x!=e.x&&(this.translate.x=e.x),this.translate.y!=e.y&&(this.translate.y=e.y)}moveToTranslation(){const e=this.dom.container.getBoundingClientRect(),t=.5*e.width,n=.5*e.height;requestAnimationFrame(function(){this.dom.noteContainer.style.transform=`translate(${this.translate.x}px, ${this.translate.y}px)`,this.dom.canvas.style.backgroundPosition=`${t+this.translate.x}px ${n+this.translate.y}px`}.bind(this))}smoothMoveTo(e,t=500){return new Promise((n=>{const i=this.translate.x,s=this.translate.y,o=performance.now(),r=a=>{const l=a-o,d=Math.min(l/t,1),f=(c=d)<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2;var c;this.translate.x=i+(e.x-i)*f,this.translate.y=s+(e.y-s)*f;const h=this.dom.container.getBoundingClientRect(),z=.5*h.width,m=.5*h.height;this.dom.noteContainer.style.transform=`translate(${this.translate.x}px, ${this.translate.y}px)`,this.dom.canvas.style.backgroundPosition=`${z+this.translate.x}px ${m+this.translate.y}px`,d<1?requestAnimationFrame(r):n()};requestAnimationFrame(r)}))}changeBackground(){const e=this.dom.canvas,t=this.background;if("none"===t.type)return e.style.backgroundColor=t.color,void(e.style.backgroundImage="none");const n=this.dom.container.getBoundingClientRect(),i=.5*n.width,s=.5*n.height;e.style.background=t.color,"dot"===t.type?e.style.backgroundImage=`radial-gradient(${t.lineStyle} ${t.lineWidth}px, transparent 0)`:"grid"===t.type&&(e.style.backgroundImage=`linear-gradient(to right, ${t.lineStyle} ${t.lineWidth}px, transparent ${t.lineWidth}px), linear-gradient(to bottom, ${t.lineStyle} ${t.lineWidth}px, transparent ${t.lineWidth}px)`),e.style.backgroundPosition=`${i+this.translate.x}px ${s+this.translate.y}px`,e.style.backgroundSize=`${t.size}px ${t.size}px`}toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}changeDarkLightModeEvent(e){this.isUserToggleDarkLightMode&&!e||(this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),this.isDarkMode?(this.dom.favicon.href="./img/TexField.dark.png",this.background.lineStyle="#888",this.background.color="#333",this.changeBackground(),document.body.classList.add("dark")):(this.dom.favicon.href="./img/TexField.light.png",this.background.lineStyle=this._background.lineStyle,this.background.color=this._background.color,this.changeBackground(),document.body.classList.remove("dark"))}getState(){if(!window.MathEditors)return;const e={translate:this.translate,isDarkMode:this.isDarkMode,isUserToggleDarkLightMode:this.isUserToggleDarkLightMode,createTime:this.createTime,background:this.background,matheditors:[],linkpaths:[]};return window.MathEditors.forEach((t=>{const n=t.id,i=this.dom.noteContainer.querySelector(`#${n}`);if(!i)return;const s=Array.from(i.querySelectorAll("div")).filter((e=>e.id.includes(`${n}-`))).map((e=>e.id)),o=parseFloat(i.style.left.replace("px","")),r=parseFloat(i.style.top.replace("px","")),a={id:n,matheditor:t.states,order:s,center:{x:o,y:r},createTime:i.getAttribute("data-create-time")};e.matheditors.push(a)})),Object.keys(this.dom.paths).forEach((t=>{e.linkpaths.push(t.split("-"))})),e}getLaTeX(e){let t=e?"":"\\documentclass{article}\n";return e||(["amsmath","amssymb","amsfonts","geometry","physics"].forEach((e=>t+=`\\usepackage{${e}}\n`)),t+="\\begin{document}\n\n"),window.MathEditors.forEach(((n,i)=>{const s=n.id,o=this.dom.noteContainer.querySelector(`#${s}`);if(!o)return;Array.from(o.querySelectorAll("div")).filter((e=>e.id.includes(`${s}-`))).map((e=>e.id));e||(t+="%".repeat(60)+"\n",t+=`\\section{Note-${i+1}}\t%${s}\n\n`),Object.keys(n.states).forEach((i=>{const s=n.states[i];s.latex&&(e?t+=`$$\n${s.latex}\n$$\n\n`:(t+=`%${i}\n`,t+=`\\begin{equation}\n${s.latex}\n\\end{equation}\n\n`))}))})),e||(t+="\\end{document}"),t}exportState(e){this.checkTranslate();const t=this.getState(),n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,4)),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",e),document.body.appendChild(i),i.click(),i.remove()}exportLaTeX(e){const t=!e.endsWith("tex"),n=this.getLaTeX(t),i=document.createElement("a"),s=new Blob([n],{type:"text/plain"});i.href=URL.createObjectURL(s),i.download=e,i.click(),URL.revokeObjectURL(i.href)}containerDropEvent(e){this.preventDefaults(e);const t=e.dataTransfer.files;if(t.length>0){const e=t[0],n=new FileReader;n.onload=e=>{const t=e.target.result;try{const e=JSON.parse(t);this.loadState(e)}catch(e){console.error(e)}},n.readAsText(e)}}loadState(e){Object.values(this.dom.notes).forEach((e=>{e.remove()})),window.MathEditors=[],this.dom.notes={},this.isDarkMode=e.isDarkMode,this.createTime=e.createTime,this.background=e.background,this.isUserToggleDarkLightMode=e.isUserToggleDarkLightMode,this.smoothMoveTo(e.translate);const t={};e.matheditors.forEach((e=>{t[e.id]=e,this.addNote(e.center.x,e.center.y,e.id,e.createTime,e.matheditor,e.order)})),e.linkpaths.forEach((e=>{const n=e[0],i=e[1];if(!n||!i)return;const s=t[n],o=t[i];this.createBezierCurve(s.center,o.center,n)}))}printInfiniteCanvas(){this.checkTranslate();const e={xmin:1/0,ymin:1/0,xmax:-1/0,ymax:-1/0},t={x:this.translate.x,y:this.translate.y},n=`${this.background.type}`;this.background.type="none",this.changeBackground(),Object.values(this.dom.notes).forEach((t=>{const n=t.getBoundingClientRect(),i=n.x,s=n.y,o=n.x+n.width,r=n.y+n.height;i<e.xmin&&(e.xmin=i),s<e.ymin&&(e.ymin=s),o>e.xmax&&(e.xmax=o),r>e.ymax&&(e.ymax=r)})),this.smoothMoveTo({x:this.translate.x-e.xmin+20,y:this.translate.y-e.ymin+20},200).then((()=>{!function(e){const t=document.createElement("style");t.type="text/css",t.media="print",t.innerText=e,document.head.appendChild(t)}(`@page {size: ${e.xmax-e.xmin+40}px ${e.ymax-e.ymin+40}px; margin: 0;}`),document.title=`TexField-${S()}`;const i=()=>{this.smoothMoveTo(t,200),this.background.type=n,this.changeBackground(),window.removeEventListener("afterprint",i)};window.addEventListener("afterprint",i.bind(this),!1),window.print()}))}openDesmos(){}askChatGPT(){}aiTakeNote(e,t){const n={xmin:1/0,ymin:1/0,xmax:-1/0,ymax:-1/0};Object.values(this.dom.notes).forEach((e=>{const t=e.getBoundingClientRect(),i=t.x,s=t.y,o=t.x+t.width,r=t.y+t.height;i<n.xmin&&(n.xmin=i),s<n.ymin&&(n.ymin=s),o>n.xmax&&(n.xmax=o),r>n.ymax&&(n.ymax=r)}));const i=n.xmax+100,s=window.innerHeight/2,o={};let r=!1;e.split("$$").forEach(((e,n)=>{const i=`${t}-${n+1}`;if(r){const t=e.replace(/[\n\t]/g," ").trim();o[i]={id:i,latex:t}}else{const t=e.split("\n");let n="";t.forEach((e=>{if(!e)return;const t=e.match(/^#+/);if(t){const n=t?t[0].length:0;e=e.substring(n).trim(),1==n?e=`{\\LARGE{${e}}}`:2==n?e=`{\\large{${e}}}`:(3==n||4==n||5==n)&&(e=`{\\textbf{${e}}}`)}n+=`& \\text{${e}} \\\\\n`})),o[i]={id:i,latex:`\\begin{aligned}\n${n}\\end{aligned}`}}order.push(i),r=!r})),Object.keys(this.dom.notes).includes(t)?(this.dom.notes[t].remove(),this.addNote(i,s,t,null,o)):this.addNote(i,s,t,null,o)}},E=localStorage.getItem("visited");window.addEventListener("load",(e=>{document.title="TexField",document.querySelector("h1").innerText="TexField";const t=new $({});t.addNote(.5*window.innerWidth,.5*window.innerHeight);const n=v(t.dom.container,"div",{class:"link-container"}),i=(v(n,"a",{class:"link-github",href:"https://github.com/Jeffreymaomao/TexField",target:"_blank",draggable:!1,title:"GitHub"}),v(n,"button",{class:"link-help",href:"#",draggable:!1,title:"Help"})),s=document.querySelector("#help");s.style.display="",E||(s.classList.remove("hide"),localStorage.setItem("visited",!0)),s.style.transition="0.5s ease-in-out";v(s,"div",{class:"close"}).addEventListener("click",(()=>{s.classList.add("hide")})),i.addEventListener("click",(()=>{s.classList.toggle("hide")}))}))})();