(()=>{"use strict";var e={72:(e,t,i)=>{i.d(t,{A:()=>yt});var n=i(1601),s=i.n(n),o=i(6314),r=i.n(o),a=i(4417),l=i.n(a),f=new URL(i(8909),i.b),d=new URL(i(8149),i.b),c=new URL(i(9495),i.b),h=new URL(i(4352),i.b),z=new URL(i(7350),i.b),m=new URL(i(7542),i.b),u=new URL(i(8003),i.b),x=new URL(i(4139),i.b),p=new URL(i(3989),i.b),g=new URL(i(3438),i.b),k=new URL(i(6116),i.b),b=new URL(i(1460),i.b),w=new URL(i(2665),i.b),y=new URL(i(361),i.b),v=new URL(i(4027),i.b),T=new URL(i(1866),i.b),S=new URL(i(1736),i.b),L=new URL(i(3096),i.b),K=new URL(i(346),i.b),$=new URL(i(1752),i.b),M=new URL(i(1032),i.b),X=new URL(i(739),i.b),E=new URL(i(5371),i.b),_=new URL(i(821),i.b),R=new URL(i(8661),i.b),D=new URL(i(2045),i.b),U=new URL(i(7759),i.b),C=new URL(i(2341),i.b),A=new URL(i(1341),i.b),N=new URL(i(4655),i.b),I=new URL(i(1304),i.b),B=new URL(i(2942),i.b),P=new URL(i(1150),i.b),F=new URL(i(8213),i.b),j=new URL(i(4701),i.b),q=new URL(i(2447),i.b),O=new URL(i(1264),i.b),W=new URL(i(8854),i.b),H=new URL(i(6038),i.b),Y=new URL(i(1856),i.b),G=new URL(i(7334),i.b),J=new URL(i(5718),i.b),V=new URL(i(9367),i.b),Q=new URL(i(4679),i.b),Z=new URL(i(1857),i.b),ee=new URL(i(8448),i.b),te=new URL(i(3030),i.b),ie=new URL(i(1766),i.b),ne=new URL(i(3023),i.b),se=new URL(i(1791),i.b),oe=new URL(i(8713),i.b),re=new URL(i(4542),i.b),ae=new URL(i(7460),i.b),le=new URL(i(9412),i.b),fe=new URL(i(5581),i.b),de=new URL(i(5909),i.b),ce=new URL(i(9095),i.b),he=new URL(i(5983),i.b),ze=new URL(i(8527),i.b),me=new URL(i(3913),i.b),ue=r()(s()),xe=l()(f),pe=l()(d),ge=l()(c),ke=l()(h),be=l()(z),we=l()(m),ye=l()(u),ve=l()(x),Te=l()(p),Se=l()(g),Le=l()(k),Ke=l()(b),$e=l()(w),Me=l()(y),Xe=l()(v),Ee=l()(T),_e=l()(S),Re=l()(L),De=l()(K),Ue=l()($),Ce=l()(M),Ae=l()(X),Ne=l()(E),Ie=l()(_),Be=l()(R),Pe=l()(D),Fe=l()(U),je=l()(C),qe=l()(A),Oe=l()(N),We=l()(I),He=l()(B),Ye=l()(P),Ge=l()(F),Je=l()(j),Ve=l()(q),Qe=l()(O),Ze=l()(W),et=l()(H),tt=l()(Y),it=l()(G),nt=l()(J),st=l()(V),ot=l()(Q),rt=l()(Z),at=l()(ee),lt=l()(te),ft=l()(ie),dt=l()(ne),ct=l()(se),ht=l()(oe),zt=l()(re),mt=l()(ae),ut=l()(le),xt=l()(fe),pt=l()(de),gt=l()(ce),kt=l()(he),bt=l()(ze),wt=l()(me);ue.push([e.id,`@font-face{font-family:KaTeX_AMS;font-style:normal;font-weight:400;src:url(${xe}) format("woff2"),url(${pe}) format("woff"),url(${ge}) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:700;src:url(${ke}) format("woff2"),url(${be}) format("woff"),url(${we}) format("truetype")}@font-face{font-family:KaTeX_Caligraphic;font-style:normal;font-weight:400;src:url(${ye}) format("woff2"),url(${ve}) format("woff"),url(${Te}) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:700;src:url(${Se}) format("woff2"),url(${Le}) format("woff"),url(${Ke}) format("truetype")}@font-face{font-family:KaTeX_Fraktur;font-style:normal;font-weight:400;src:url(${$e}) format("woff2"),url(${Me}) format("woff"),url(${Xe}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:700;src:url(${Ee}) format("woff2"),url(${_e}) format("woff"),url(${Re}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:700;src:url(${De}) format("woff2"),url(${Ue}) format("woff"),url(${Ce}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:italic;font-weight:400;src:url(${Ae}) format("woff2"),url(${Ne}) format("woff"),url(${Ie}) format("truetype")}@font-face{font-family:KaTeX_Main;font-style:normal;font-weight:400;src:url(${Be}) format("woff2"),url(${Pe}) format("woff"),url(${Fe}) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:700;src:url(${je}) format("woff2"),url(${qe}) format("woff"),url(${Oe}) format("truetype")}@font-face{font-family:KaTeX_Math;font-style:italic;font-weight:400;src:url(${We}) format("woff2"),url(${He}) format("woff"),url(${Ye}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:700;src:url(${Ge}) format("woff2"),url(${Je}) format("woff"),url(${Ve}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:italic;font-weight:400;src:url(${Qe}) format("woff2"),url(${Ze}) format("woff"),url(${et}) format("truetype")}@font-face{font-family:"KaTeX_SansSerif";font-style:normal;font-weight:400;src:url(${tt}) format("woff2"),url(${it}) format("woff"),url(${nt}) format("truetype")}@font-face{font-family:KaTeX_Script;font-style:normal;font-weight:400;src:url(${st}) format("woff2"),url(${ot}) format("woff"),url(${rt}) format("truetype")}@font-face{font-family:KaTeX_Size1;font-style:normal;font-weight:400;src:url(${at}) format("woff2"),url(${lt}) format("woff"),url(${ft}) format("truetype")}@font-face{font-family:KaTeX_Size2;font-style:normal;font-weight:400;src:url(${dt}) format("woff2"),url(${ct}) format("woff"),url(${ht}) format("truetype")}@font-face{font-family:KaTeX_Size3;font-style:normal;font-weight:400;src:url(${zt}) format("woff2"),url(${mt}) format("woff"),url(${ut}) format("truetype")}@font-face{font-family:KaTeX_Size4;font-style:normal;font-weight:400;src:url(${xt}) format("woff2"),url(${pt}) format("woff"),url(${gt}) format("truetype")}@font-face{font-family:KaTeX_Typewriter;font-style:normal;font-weight:400;src:url(${kt}) format("woff2"),url(${bt}) format("woff"),url(${wt}) format("truetype")}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important;border-color:currentColor}.katex .katex-version:after{content:"0.16.11"}.katex .katex-mathml{clip:rect(1px,1px,1px,1px);border:0;height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:-webkit-min-content;width:-moz-min-content;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-style:italic;font-weight:700}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathboldfrak,.katex .textboldfrak{font-family:KaTeX_Fraktur;font-weight:700}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;position:relative;vertical-align:bottom}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.katex .vbox{align-items:baseline;display:inline-flex;flex-direction:column}.katex .hbox{width:100%}.katex .hbox,.katex .thinbox{display:inline-flex;flex-direction:row}.katex .thinbox{max-width:0;width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{position:relative;width:0}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{border:0 solid;display:inline-block;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{border-bottom-style:solid;display:inline-block;width:100%}.katex .hdashline{border-bottom-style:dashed;display:inline-block;width:100%}.katex .sqrt>.root{margin-left:.2777777778em;margin-right:-.5555555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.1666666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.6666666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.4566666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.1466666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.7142857143em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.8571428571em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.1428571429em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.2857142857em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.4285714286em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.7142857143em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.0571428571em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.4685714286em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.9628571429em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.5542857143em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.7777777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.8888888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.1111111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.3333333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.3044444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.7644444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.5833333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.6666666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.7283333333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.0733333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.4166666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.4861111111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.5555555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.4402777778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.7277777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.2893518519em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.3472222222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.4050925926em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.462962963em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.5208333333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.6944444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.8333333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.2002314815em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.4398148148em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.2410800386em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2892960463em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.337512054em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.3857280617em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.4339440694em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.4821600771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.5785920926em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.6943105111em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8331726133em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.1996142719em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.2009646302em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.2411575563em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.2813504823em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.3215434084em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.3617363344em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.4019292605em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.4823151125em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.578778135em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.6945337621em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.8336012862em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.katex svg path{stroke:none}.katex img{border-style:none;max-height:none;max-width:none;min-height:0;min-width:0}.katex .stretchy{display:block;overflow:hidden;position:relative;width:100%}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .hide-tail{overflow:hidden;position:relative;width:100%}.katex .halfarrow-left{left:0;overflow:hidden;position:absolute;width:50.2%}.katex .halfarrow-right{overflow:hidden;position:absolute;right:0;width:50.2%}.katex .brace-left{left:0;overflow:hidden;position:absolute;width:25.1%}.katex .brace-center{left:25%;overflow:hidden;position:absolute;width:50%}.katex .brace-right{overflow:hidden;position:absolute;right:0;width:25.1%}.katex .x-arrow-pad{padding:0 .5em}.katex .cd-arrow-pad{padding:0 .55556em 0 .27778em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{border:.04em solid;box-sizing:border-box}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex .angl{border-right:.049em solid;border-top:.049em solid;box-sizing:border-box;margin-right:.03889em}.katex .anglpad{padding:0 .03889em}.katex .eqn-num:before{content:"(" counter(katexEqnNo) ")";counter-increment:katexEqnNo}.katex .mml-eqn-num:before{content:"(" counter(mmlEqnNo) ")";counter-increment:mmlEqnNo}.katex .mtr-glue{width:50%}.katex .cd-vert-arrow{display:inline-block;position:relative}.katex .cd-label-left{display:inline-block;position:absolute;right:calc(50% + .3em);text-align:left}.katex .cd-label-right{display:inline-block;left:calc(50% + .3em);position:absolute;text-align:right}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{padding-left:2em;text-align:left}body{counter-reset:katexEqnNo mmlEqnNo}\n`,""]);const yt=ue},6710:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(1601),s=i.n(n),o=i(6314),r=i.n(o)()(s());r.push([e.id,"/* ---- */\n\n.mathnote-container {\n    display: block;\n    width: 100%;\n    border-style: solid;\n    border-color: gray;\n    border-width: 0.5px 0px;\n}\n\n/* ---- */\n.katex-display {\n    margin: 0;\n}\n\n.katex-display.fleqn > .katex {\n    padding-left: 0;\n}\n\n.katex {\n    line-height: 13px;\n}\n\n/**********************************\n * mathnote one block (math mode) *\n **********************************/\n\n.mathnote-latex {\n    --padding-width: 12px;\n    --background-color: rgb(245,245,245);\n    --border-color: rgb(100,100,100);\n    --error-text-color: rgb(200,30,30);\n    --error-border-color: rgb(200,30,30);\n    --dark-error-color: rgb(200,100,100);\n}\n\n/** ---\n * LaTeX is not editing (default)\n ** --- */\n\n.mathnote-block {\n    border-color: gray;\n    border-style: solid;\n    border-width: 0.5px 1px;\n}\n\n.mathnote-block.focus {\n    outline: 1px solid rgb(10,100,200);\n    border-color: rgb(10,100,200);\n}\n\n.mathnote-block .mathnote-math-textarea {\n    /* textarea in math-mode*/\n    overflow: hidden;\n    vertical-align: middle;\n    white-space: nowrap;\n    resize: none;\n    border: none;\n    outline: none;\n    \n    height: auto;\n    width: auto;\n    background-color: transparent;\n    min-width: 200px;\n    padding: 15px 15px;\n    font: 14px 'Menlo', monospace;\n    -moz-tab-size : 4;\n      -o-tab-size : 4;\n         tab-size : 4;\n    /* when it is not editing */\n    display: none;\n}\n\n.mathnote-block .mathnote-latex {\n    display: block;\n    position: relative;\n    transform: none;\n    border: none;\n    background-color: transparent;\n    min-width: 200px;\n    vertical-align: bottom;\n    padding: 15px 15px;\n    cursor: text;\n    transition: height, transform 0.05s ease-out;\n    cursor: pointer;\n    user-select: none;\n}\n\n.mathnote-block .mathnote-latex::after {\n    display: none;\n    transition: height, transform 0.05s ease-out;\n}\n\n.mathnote-block .mathnote-latex.error{\n    max-width: 100%;\n    white-space: wrap;\n    color: var(--error-text-color);\n}\n\n.mathnote-block .mathnote-latex.isEmpty::before {\n    content: 'Empty LaTeX';\n    font: 14px 'Menlo', monospace;\n    color: #bbb;\n}\n\n/** ---\n * LaTeX is editing\n ** --- */\n\n /* When the LaTeX is editing => show textarea & LaTeX block */\n\n.mathnote-block.editing .mathnote-math-textarea {\n    display: block;\n    position: relative;\n}\n\n.mathnote-block.editing .mathnote-latex {\n    position: absolute;\n    bottom: 100%;\n    left: 0%;\n    transform: translate(0, -10px);\n    border-radius: 6px;\n    padding: var(--padding-width);\n    min-width: 45px;\n    background-color: var(--background-color);\n    border: 1px solid var(--border-color);\n}\n\n.mathnote-block.editing .mathnote-latex::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    transform: rotate(45deg);\n    left: var(--padding-width);\n    bottom: calc(2px - var(--padding-width));\n    width: calc(var(--padding-width) * 1.414);\n    height: calc(var(--padding-width) * 1.414);\n    background-color: var(--background-color);\n    border-bottom: 1px solid var(--border-color);\n    border-right: 1px solid var(--border-color);\n    cursor: text;\n}\n\n\n.mathnote-block.editing .mathnote-latex.error {\n    border-color: var(--error-border-color);\n    color: var(--error-border-color);\n}\n\n.mathnote-block.editing .mathnote-latex.error::after {\n    background-color: var(--background-color);\n    border-bottom: 1px solid var(--error-border-color);\n    border-right: 1px solid var(--error-border-color);\n}\n\n/* show label */\n.mathnote-block {\n    padding-right: 50px;\n}\n\n.mathnote-label {\n    position: absolute;\n    padding-right: 2px;\n    right: 0;\n    top: 50%;\n    transform: translate(0, -50%);\n    text-align: middle;\n    cursor: pointer;\n    user-select: none;\n}\n\n/* ---------------- */\n\nbody.dark .mathnote-text-textarea,\nbody.dark .mathnote-math-textarea {\n    background-color: #222;\n    color: #eee;\n}\n\nbody.dark .mathnote-block .mathnote-latex.error{\n    color: rgb(230, 100, 100);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex,\nbody.dark .mathnote-block.editing .mathnote-latex::after {\n    border-color: rgba(30, 150, 150);\n    background-color: rgb(38, 59, 74);\n    color: rgb(200, 250, 250);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex,\nbody.dark .mathnote-block.editing .mathnote-latex::after {\n    border-color: rgba(150, 150, 150);\n    background-color: rgb(50,50,50);\n    color: rgb(250, 250, 250);\n}\n\nbody.dark .mathnote-block.editing .mathnote-latex.error,\nbody.dark .mathnote-block.editing .mathnote-latex.error::after {\n    border-color: rgb(200, 30, 30);\n    background-color: rgb(74, 54, 53);\n    color: rgb(230, 201, 197);\n}\n\n/*.mathnote-block.textmode textarea.mathnote-text-textarea {\n    width: 100%;\n    overflow: hidden;\n    resize: none;\n    vertical-align: middle;\n    font-family: 'BiauKai', 'LatinModernRoman', 'Symbola',\n                 'Times New Roman', 'Times', serif;  \n    font-size: 1.15em;\n    border: none;\n    white-space: nowrap;\n}\n\n.mathnote-block.focus {\n    box-shadow: none;\n    border-style: solid;\n    border-radius: 0px;\n    border-color: #6a93d2;\n    border-width: 1px 1px;\n\n    box-shadow: 0 0 2px #6a93d2,\n                0 0 2px #6a93d2;\n}*/\n",""]);const a=r},4082:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(1601),s=i.n(n),o=i(6314),r=i.n(o)()(s());r.push([e.id,"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}",""]);const a=r},1016:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(1601),s=i.n(n),o=i(6314),r=i.n(o)()(s());r.push([e.id,"* {\n    box-sizing: border-box;\n    position: relative;\n}\n\nbody {\n    font-family: Arial, sans-serif;\n    overflow: hidden;\n}\n\n/**********************************\n * texfield-container *\n **********************************/\n/* default */\n.texfield-container {\n    cursor: crosshair;\n}\n\n.texfield-container .note{\n    cursor: pointer;\n}\n\n.texfield-container .path{\n    cursor: pointer;\n}\n\n\n/* dragging canvas */\n.texfield-container.dragging {\n    cursor: grabbing;\n}\n\n/* moving note */\n.texfield-container.movingNote{\n    cursor: default;\n}\n\n.texfield-container.movingNote .note{\n    cursor: grab;\n}\n\n/* drawing path */\n.texfield-container.pointer {\n    cursor: crosshair;\n}\n\n.texfield-container.drawingPath.dragging {\n    cursor: grabbing;\n}\n\n\n.texfield-container.drawingPath .note {\n    cursor: crosshair;\n}\n\n\n\n/**********************************\n * other container set by JS *\n **********************************/\n\n.texfield-canvas {\n/*    border: 1px solid red;*/\n}\n\n.texfield-path-container {\n}\n\n.texfield-note-container {\n\n}\n\n/**********************************\n * NOTE *\n **********************************/\n\n.note {\n    position: absolute;\n    display: block;\n    white-space: nowrap;\n    margin: 0;\n    padding: 8px;\n    border: 1px solid #888;\n    background-color: white;\n    border-radius: 6px;\n    transform: translate(-50%, -50%);\n}\n\n.texfield-container.movingNote .note:after,\n.texfield-container.drawingPath .note:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n/*    background-color: rgba(250, 250, 250, 0.6);*/\n}\n\n.note.focus {\n    outline: 1px solid #d94b58;\n}\n\n/* --- */\n\n@keyframes path-blink {\n    0% {\n        stroke-width: 4px;\n    }\n    50% {\n        stroke-width: 2px;\n    }\n    100% {\n        stroke-width: 4px;\n    }\n}\n\n.path {\n    stroke: #ccc;\n    stroke-width: 2;\n}\n\n.path.focus {\n    stroke-width: 4px;\n}\n\n/* --- dark mode --- */\n\nbody.dark.drawingPath .note:after {\n/*    background-color: rgba(100, 100, 100, 0.6);*/\n}\n\nbody.dark .note {\n    background-color: #222;\n    color: #eee;\n}\n\nbody.dark .note.focus {\n    outline: 1px solid #e3e166;\n}\n\nbody.dark .path {\n    stroke: #999;\n}\n\n/* --- */\n\n@media print {\n    * {\n        -webkit-print-color-adjust: exact ;\n        color-adjust: exact ;\n    }\n}\n\n\n\n\n\n\n\n",""]);const a=r},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var f=0;f<e.length;f++){var d=[].concat(e[f]);n&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},4417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:e=>{e.exports=function(e){return e[1]}},5072:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var o={},r=[],a=0;a<e.length;a++){var l=e[a],f=n.base?l[0]+n.base:l[0],d=o[f]||0,c="".concat(f," ").concat(d);o[f]=d+1;var h=i(c),z={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(z);else{var m=s(z,n);n.byIndex=a,t.splice(a,0,{identifier:c,updater:m,references:1})}r.push(c)}return r}function s(e,t){var i=t.domAPI(t);i.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var o=n(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=i(o[r]);t[a].references--}for(var l=n(e,s),f=0;f<o.length;f++){var d=i(o[f]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},7659:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9495:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_AMS-Regular.ttf"},8149:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_AMS-Regular.woff"},8909:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_AMS-Regular.woff2"},7542:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Bold.ttf"},7350:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Bold.woff"},4352:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Bold.woff2"},3989:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Regular.ttf"},4139:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Regular.woff"},8003:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Caligraphic-Regular.woff2"},1460:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Bold.ttf"},6116:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Bold.woff"},3438:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Bold.woff2"},4027:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Regular.ttf"},361:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Regular.woff"},2665:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Fraktur-Regular.woff2"},3096:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Bold.ttf"},1736:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Bold.woff"},1866:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Bold.woff2"},1032:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-BoldItalic.ttf"},1752:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-BoldItalic.woff"},346:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-BoldItalic.woff2"},821:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Italic.ttf"},5371:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Italic.woff"},739:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Italic.woff2"},7759:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Regular.ttf"},2045:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Regular.woff"},8661:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Main-Regular.woff2"},4655:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-BoldItalic.ttf"},1341:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-BoldItalic.woff"},2341:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-BoldItalic.woff2"},1150:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-Italic.ttf"},2942:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-Italic.woff"},1304:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Math-Italic.woff2"},2447:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Bold.ttf"},4701:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Bold.woff"},8213:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Bold.woff2"},6038:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Italic.ttf"},8854:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Italic.woff"},1264:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Italic.woff2"},5718:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Regular.ttf"},7334:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Regular.woff"},1856:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_SansSerif-Regular.woff2"},1857:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Script-Regular.ttf"},4679:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Script-Regular.woff"},9367:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Script-Regular.woff2"},1766:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size1-Regular.ttf"},3030:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size1-Regular.woff"},8448:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size1-Regular.woff2"},8713:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size2-Regular.ttf"},1791:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size2-Regular.woff"},3023:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size2-Regular.woff2"},9412:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size3-Regular.ttf"},7460:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size3-Regular.woff"},4542:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size3-Regular.woff2"},9095:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size4-Regular.ttf"},5909:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size4-Regular.woff"},5581:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Size4-Regular.woff2"},3913:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Typewriter-Regular.ttf"},8527:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Typewriter-Regular.woff"},5983:(e,t,i)=>{e.exports=i.p+"fonts/KaTeX_Typewriter-Regular.woff2"}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e+"../"})(),i.b=document.baseURI||self.location.href,i.nc=void 0;var n=i(5072),s=i.n(n),o=i(7825),r=i.n(o),a=i(7659),l=i.n(a),f=i(5056),d=i.n(f),c=i(540),h=i.n(c),z=i(1113),m=i.n(z),u=i(4082),x={};x.styleTagTransform=m(),x.setAttributes=d(),x.insert=l().bind(null,"head"),x.domAPI=r(),x.insertStyleElement=h();s()(u.A,x);u.A&&u.A.locals&&u.A.locals;var p=i(72),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=h();s()(p.A,g);p.A&&p.A.locals&&p.A.locals;var k=i(6710),b={};b.styleTagTransform=m(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=h();s()(k.A,b);k.A&&k.A.locals&&k.A.locals;var w=i(1016),y={};y.styleTagTransform=m(),y.setAttributes=d(),y.insert=l().bind(null,"head"),y.domAPI=r(),y.insertStyleElement=h();s()(w.A,y);w.A&&w.A.locals&&w.A.locals;function v(e,t,i={}){const n=document.createElement(t);return i.class&&(i.class.split(" ").forEach((e=>n.classList.add(e))),delete i.class),i.dataset&&(Object.keys(i.dataset).forEach((e=>n.dataset[e]=i.dataset[e])),delete i.dataset),Object.keys(i).forEach((e=>{n[e]=i[e],n[e]||n.setAttribute(e,i[e])})),Object.keys(i).forEach((e=>{n[e]=i[e]})),e&&e.appendChild(n),n}function T(e,t){if(!e)return null;let i=e;for(;i;){if(i===document.body)return null;if(i.matches(t))return i;i=i.parentElement}return null}function S(e){let t=0;for(let i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}t=Math.abs(t);const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";for(;t>0;){n=i[(t+Math.floor(1e3*Math.random()))%26]+n,t=Math.floor(t/26*10)}return n}function L(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}.${String(e.getMinutes()).padStart(2,"0")}.${String(e.getSeconds()).padStart(2,"0")}.${String(e.getMilliseconds()).padStart(2,"0")}`}const K=class{constructor(e={}){if(this.id=e.id||S(Date.now().toString()),this.dom={},this.dom.parent=e.parent||document.body,this.createTime=L(),this.id_prefix=e?.id_prefix||this.id,this._id_num=1,this.focusId=null,this.focusing=!1,this.states={},this.isComposing=!1,this.katex=window.katex,!this.katex)throw Error("KaTeX not defined!!!");window.MathEditors||(window.MathEditors=[]),this.katexOutput="html",this.katexOutput="htmlAndMathml",window.MathEditors.push(this),this.initializeDom(),e.states&&this.loadStates(e.states,e.order)}createId(e){return this._id_num+=1,`${this.id_prefix}-${this._id_num-1}`}initializeDom(){this.dom.container=v(this.dom.parent,"div",{class:"mathnote-container",id:this.id}),this.dom.blocks={},this.createEquationDom()}createEquationDom(){const e={id:this.createId(),latex:""},t=this.addMathModeArea(e);return this.dom.container.lastChild&&this.dom.blocks[this.focusId]&&this.dom.blocks[this.focusId].nextSibling?this.dom.blocks[this.focusId].nextSibling&&this.dom.container.insertBefore(t,this.dom.blocks[this.focusId].nextSibling):this.dom.container.appendChild(t),this.orderLabelNum(),!0}addMathModeArea(e){const t=e.id,i=v(null,"div",{class:"mathnote-block",tabIndex:0,id:t}),n=v(i,"textarea",{class:"mathnote-math-textarea",autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false",id:`${t}-mathmode-textarea`,placeholder:"Input some LaTeX...",tabIndex:-1,rows:1,value:e.latex||""}),s=v(i,"div",{class:"mathnote-latex"}),o=()=>{""===n.value.trim()?s.classList.add("isEmpty"):s.classList.remove("isEmpty")},r=this.createLabelDom(t);return i.appendChild(r),this.orderLabelNum(),o(),i.addEventListener("focus",function(e){i.classList.add("focus"),s.classList.remove("isEmpty"),this.focusId=t,this.focusing=!0,i.classList.contains("editing")&&n.focus(),o()}.bind(this),!1),i.addEventListener("blur",function(e){this.focusing=!1,i.classList.remove("focus")}.bind(this),!1),i.addEventListener("keydown",function(e){this.mathBlockKeydownEvent(e,i,n)}.bind(this),!1),n.addEventListener("input",function(t){this.adjustTextAreaSize(n),this.renderLaTex(n,s),o(),e.latex=n.value}.bind(this),!1),n.addEventListener("keydown",function(e){this.mathTextAreaKeydownEvent(e,i,n)}.bind(this),!1),n.addEventListener("focus",function(e){this.focusing=!0,i.classList.add("focus")}.bind(this),!1),n.addEventListener("blur",function(e){this.focusing=!1,i.classList.remove("focus"),setTimeout((()=>{document.activeElement!==n&&i.classList.remove("editing")}),0)}.bind(this),!1),setTimeout((()=>{this.adjustTextAreaSize(n),this.renderLaTex(n,s),i.focus(),this.focusId=t}),0),this.dom.blocks[t]=i,this.states[t]=e,i}renderLaTex(e,t){try{t.classList.remove("error"),this.katex.render(e.value,t,{fleqn:!0,displayMode:!0,output:this.katexOutput,throwOnError:!0,trust:!0})}catch(e){if(!e instanceof this.katex.ParseError)return;const i=e.message;t.classList.add("error"),t.innerText=i.replace("KaTeX parse error:","")}}adjustTextAreaSize(e){e.style.height="auto",e.style.width="auto",e.style.height=e.scrollHeight+"px",e.style.width=e.scrollWidth+"px"}mathTextAreaKeydownEvent(e,t,i){if("Tab"===e.key){e.preventDefault();const t=i.selectionStart,n=i.selectionEnd,s=i.value;i.value=s.substring(0,t)+"\t"+s.substring(n),i.selectionStart=i.selectionEnd=t+1}}mathBlockKeydownEvent(e,t,i){if((e.ctrlKey||e.metaKey)&&"/"===e.key){t.classList.toggle("editing")?(this.adjustTextAreaSize(i),i.focus()):t.focus()}else{if(document.activeElement===i)return;"ArrowUp"===e.key||"ArrowDown"===e.key?this.moveFocusUpDown(e,t):!e.ctrlKey&&!e.metaKey||"Enter"!==e.key||e.shiftKey||e.altKey?!e.ctrlKey&&!e.metaKey||"Backspace"!==e.key||e.shiftKey||e.altKey?(e.ctrlKey||e.metaKey)&&'"'===e.key&&!e.shiftKey&&e.altKey:this.deleteFocus():this.createEquationDom()}}createLabelDom(e){return v(null,"div",{class:"mathnote-label"})}orderLabelNum(){requestAnimationFrame(function(){Array.from(this.dom.container.querySelectorAll(".mathnote-label")).forEach(((e,t)=>{e.innerHTML=this.katex.renderToString(`(${t+1})`,{output:this.katexOutput})}))}.bind(this))}deleteFocus(){const e=this.focusId,t=this.dom.blocks[e]?.previousSibling;if(!t)return;this.dom.blocks[e].remove();const i=t.id;this.focusId=i,delete this.dom.blocks[e],delete this.states[e],t.focus()}moveFocusUpDown(e,t){const i=t.nextSibling,n=t.previousSibling;"ArrowDown"===e.key&&i?(i.focus(),this.focusId=i.id):"ArrowUp"===e.key&&n&&(n.focus(),this.focusId=n.id)}loadStates(e,t=null){this.dom.container.innerHTML="";const i=e=>{console.log(e);const t=e.id,i=parseInt(t.split("-").pop());i>=this._id_num&&(this._id_num=i+1);const n=this.addMathModeArea(e);this.dom.container.appendChild(n),this.states[t]=e};t?t.forEach((t=>{i(e[t])})):Object.values(e).forEach((e=>{i(e)})),this.orderLabelNum()}};const $=class{constructor(e={}){this.dom={},this.translate={x:0,y:0},this._background={type:"dot",size:20,lineStyle:"#aaa",lineWidth:1,color:"white"},this.background=Object.assign({},this._background),this.createTime=L(),this.dom.parent=e.parent||document.body,this.mouseClickStart={x:0,y:0},this.isDraggingCanvas=!1,this.draggingCanvasStart={x:0,y:0},this.currentDraggingNote=null,this.focusNote=null,this.drawingPath=!1,this.pathStart={x:0,y:0,id:null},this.initializeDom(),this.windowSize={x:window.innerWidth,y:window.innerHeight};const t=window.localStorage.getItem("isDarkMode");this.isDarkMode=`${t}`?"true"===t:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,this.isUserToggleDarkLightMode=!!`${t}`}initializeDom(){this.dom.container=v(this.dom.parent,"div",{class:"texfield-container",style:"display: block; position: fixed; top: 0; left: 0; overflow: hidden; width: 100vw; height: 100vh;"}),this.dom.canvas=v(this.dom.container,"div",{class:"texfield-canvas",style:"display: block; position: fixed;  overflow: hidden; width: 100%; height: 100%;"}),this.dom.noteContainer=v(this.dom.container,"div",{class:"texfield-note-container",style:"display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%;"}),this.dom.favicon=document.querySelector("#favicon"),this.dom.notes={},this.dom.paths={},this.changeBackground(),this.initializeSVGLayer(),setTimeout((()=>{this.changeDarkLightModeEvent()}),0),this.dom.container.addEventListener("wheel",this.containerWheelEvents.bind(this),{passive:!0}),this.dom.container.addEventListener("dblclick",this.containerDoubleClickEvent.bind(this),!1),this.dom.container.addEventListener("mousedown",this.containerMouseDownEvent.bind(this),!1),this.dom.container.addEventListener("dragenter",this.preventDefaults,!1),this.dom.container.addEventListener("dragover",this.preventDefaults,!1),this.dom.container.addEventListener("drop",this.containerDropEvent.bind(this),!1),window.addEventListener("resize",this.windowResizeEvent.bind(this),!1),document.addEventListener("keydown",this.containerKeyDownEvent.bind(this),!1),document.addEventListener("keyup",this.containerKeyUpEvent.bind(this),!1),document.addEventListener("mousemove",this.containerMouseMoveEvent.bind(this),!1),document.addEventListener("mouseup",this.containerMouseUpEvent.bind(this),!1),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.changeDarkLightModeEvent.bind(this),!1),window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",this.changeDarkLightModeEvent.bind(this),!1)}initializeSVGLayer(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("overflow","visible"),e.style="display: block; width: 100%; height: 100%; position: absolute; left: 0; top: 0;",this.dom.pathContainer=e,this.dom.canvas.appendChild(e),this.dom.noteContainer.appendChild(e)}createBezierCurve(e,t,i){const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.classList.add("path"),n.setAttribute("fill","none"),n.id=i,this.setBezierCurvePath(n,e,t),this.dom.pathContainer.appendChild(n),n}setBezierCurvePath(e,t,i){const n=t.x,s=t.y,o=i.x,r=i.y,a=n+.7*(o-n),l=s,f=o-.7*(o-n),d=r;e.setAttribute("d",`M ${n} ${s} C ${a} ${l}, ${f} ${d}, ${o} ${r}`)}addNote(e,t,i=null,n=null,s=null,o=null){i=i||S(`${e}-${t}-${Date.now()}`.padStart(50,"0")).slice(0,10);const r=v(this.dom.noteContainer,"div",{class:"note",id:i,draggable:!1,style:`display: block; absolute; top: ${t}px; left: ${e}px;`,dataset:{createTime:n||L()}});new K({parent:r,id:i,states:s,order:o});this.dom.notes[i]=r}centerNote(e){if(!window.MathEditors||e>window.MathEditors.length)return;const t=window.MathEditors[e-1];if(!t)return;const i=t.id;if(!i)return;const n=document.querySelector(`#${i}`);if(!n)return;const s=n.getBoundingClientRect(),o=s.left+.5*s.width,r=s.top+.5*s.height,a={x:this.translate.x+.5*window.innerWidth-o,y:this.translate.y+.5*window.innerHeight-r};this.smoothMoveTo(a,200);const l=window.MathEditors.find((e=>e.id===i));if(!l)return;const f=Object.values(l.dom.blocks),d=f[f.length-1];d.focus()}preventDefaults(e){e.preventDefault(),e.stopPropagation()}windowResizeEvent(e){const t=this.windowSize;this.translate.x+=.5*(window.innerWidth-t.x),this.translate.y+=.5*(window.innerHeight-t.y),this.moveToTranslation(),this.windowSize={x:window.innerWidth,y:window.innerHeight}}containerWheelEvents(e){e.ctrlKey||(this.translate.x-=e.deltaX,this.translate.y-=e.deltaY,this.moveToTranslation())}containerDoubleClickEvent(e){e.preventDefault();T(e.target,".note")||app.addNote(e.clientX-this.translate.x,e.clientY-this.translate.y)}containerMouseDownEvent(e){this.focusNote=null,this.checkTranslate(),Object.values(this.dom.notes).forEach((e=>{e.classList.remove("focus")})),Object.values(this.dom.paths).forEach((e=>{e.dom.classList.remove("focus")}));const t=e.target.classList,i=(t.contains("note"),t.contains("path")),n=T(e.target,".note");if(n||i)if(i)this.focusNote=e.target,this.focusNote.classList.add("focus");else if(!e.ctrlKey&&!e.metaKey||!e.shiftKey||this.drawingPath||this.dom.drawingPath)(e.ctrlKey||e.metaKey)&&n?(this.focusNote=n,this.focusNote.classList.add("focus"),this.currentDraggingNote=n,this.startX=e.clientX-n.offsetLeft,this.startY=e.clientY-n.offsetTop):i&&(this.focusNote=e.target,this.focusNote.classList.add("focus"));else{this.drawingPath=!0;const e=n.getBoundingClientRect(),t={x:e.left+.5*e.width-this.translate.x,y:e.top+.5*e.height-this.translate.y,id:n.id};this.dom.drawingPath=this.createBezierCurve(t,t),this.pathStart=t}else this.isDraggingCanvas=!0,this.draggingCanvasStart.x=e.clientX,this.draggingCanvasStart.y=e.clientY,this.dom.container.classList.add("dragging"),this.focusNote=null}containerMouseMoveEvent(e){if(!e.shiftKey&&this.currentDraggingNote){const t=this.dom.noteContainer.getBoundingClientRect(),i=e.clientX-t.left-this.startX+this.translate.x,n=e.clientY-t.top-this.startY+this.translate.y;this.currentDraggingNote.style.left=`${i}px`,this.currentDraggingNote.style.top=`${n}px`;const s=this.currentDraggingNote.id;Object.keys(this.dom.paths).forEach((e=>{if(!e.includes(s))return;const t=this.dom.paths[e],i=this.currentDraggingNote.getBoundingClientRect(),n=i.left+.5*i.width-this.translate.x,o=i.top+.5*i.height-this.translate.y;s===t.start.id?(t.start.x=n,t.start.y=o):s===t.end.id&&(t.end.x=n,t.end.y=o),this.setBezierCurvePath(t.dom,t.start,t.end)}))}else if(e.shiftKey&&this.drawingPath&&this.dom.drawingPath){const t={x:e.clientX-this.translate.x,y:e.clientY-this.translate.y};this.setBezierCurvePath(this.dom.drawingPath,this.pathStart,t,this.pathStart.width,this.pathStart.width)}else if(this.isDraggingCanvas){const t=e.clientX-this.draggingCanvasStart.x,i=e.clientY-this.draggingCanvasStart.y;this.translate.x+=t,this.translate.y+=i,this.moveToTranslation(),this.draggingCanvasStart.x=e.clientX,this.draggingCanvasStart.y=e.clientY}}containerMouseUpEvent(e){if(this.isDraggingCanvas=!1,this.dom.container.classList.remove("dragging"),this.currentDraggingNote)this.currentDraggingNote=null;else if(this.drawingPath&&this.dom.drawingPath&&(this.dom.drawingPath.remove(),e.target.classList.contains("note"))){const t=e.target.id;if(this.pathStart.id===t)return;const i=`${this.pathStart.id}-${t}`;if(Object.keys(this.dom.paths).includes(i))return;const n=e.target.getBoundingClientRect(),s={x:n.left+.5*n.width-this.translate.x,y:n.top+.5*n.height-this.translate.y,id:t};this.dom.paths[i]={start:this.pathStart,end:s,dom:this.createBezierCurve(this.pathStart,s,i)}}this.dom.drawingPath=null,this.drawingPath=!1}containerKeyDownEvent(e){if((e.metaKey||e.ctrlKey)&&(this.dom.container.classList.remove("drawingPath"),this.dom.container.classList.remove("movingNote"),e.shiftKey?this.dom.container.classList.add("drawingPath"):this.dom.container.classList.add("movingNote")),this.focusNote&&"Backspace"===e.key){const e=this.focusNote.classList.contains("note")?"note":"path";if(!window.confirm(`Are you sure to delete this ${e}?`))return;const t=this.focusNote.id;this.focusNote.remove(),delete this.dom.notes[t],Object.keys(this.dom.paths).forEach((e=>{e.includes(t)&&(this.dom.paths[e].dom.remove(),delete this.dom.paths[e])})),window.MathEditors=window.MathEditors.filter((e=>e.id!==t))}else if(e.metaKey||e.ctrlKey)if("e"!==e.key||e.shiftKey||e.altKey)if("e"===e.key&&e.shiftKey&&!e.altKey){e.preventDefault();const t=`TexField-${this.createTime}.tex`;this.exportLaTeX(t)}else if("s"!==e.key||e.shiftKey||e.altKey)"f"!==e.key||e.shiftKey||e.altKey?"b"!==e.key||e.shiftKey||e.altKey?"p"===e.key?(e.preventDefault(),this.printInfiniteCanvas()):"o"===e.key?(e.preventDefault(),this.openDesmos()):"a"===e.key?(e.preventDefault(),this.askChatGPT()):e.altKey&&["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9"].includes(e.code)&&this.centerNote(parseInt(e.code.replace("Digit",""))):(this.isUserToggleDarkLightMode||(this.isUserToggleDarkLightMode=!0),this.isDarkMode=!this.isDarkMode,this.changeDarkLightModeEvent(),window.localStorage.setItem("isDarkMode",this.isDarkMode)):(e.preventDefault(),this.toggleFullScreen());else{e.preventDefault();const t=this.getState();console.log(t)}else{e.preventDefault();const t=`TexField-${this.createTime}.json`;this.exportState(t)}}containerKeyUpEvent(){this.dom.container.classList.remove("drawingPath"),this.dom.container.classList.remove("movingNote")}checkTranslate(){const e=this.dom.noteContainer.getBoundingClientRect();this.translate.x!=e.x&&(this.translate.x=e.x),this.translate.y!=e.y&&(this.translate.y=e.y)}moveToTranslation(){const e=this.dom.container.getBoundingClientRect(),t=.5*e.width,i=.5*e.height;requestAnimationFrame(function(){this.dom.noteContainer.style.transform=`translate(${this.translate.x}px, ${this.translate.y}px)`,this.dom.canvas.style.backgroundPosition=`${t+this.translate.x}px ${i+this.translate.y}px`}.bind(this))}smoothMoveTo(e,t=500){return new Promise((i=>{const n=this.translate.x,s=this.translate.y,o=performance.now(),r=a=>{const l=a-o,f=Math.min(l/t,1),d=(c=f)<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2;var c;this.translate.x=n+(e.x-n)*d,this.translate.y=s+(e.y-s)*d;const h=this.dom.container.getBoundingClientRect(),z=.5*h.width,m=.5*h.height;this.dom.noteContainer.style.transform=`translate(${this.translate.x}px, ${this.translate.y}px)`,this.dom.canvas.style.backgroundPosition=`${z+this.translate.x}px ${m+this.translate.y}px`,f<1?requestAnimationFrame(r):i()};requestAnimationFrame(r)}))}changeBackground(){const e=this.dom.canvas,t=this.background;if("none"===t.type)return e.style.backgroundColor=t.color,void(e.style.backgroundImage="none");const i=this.dom.container.getBoundingClientRect(),n=.5*i.width,s=.5*i.height;e.style.background=t.color,"dot"===t.type?e.style.backgroundImage=`radial-gradient(${t.lineStyle} ${t.lineWidth}px, transparent 0)`:"grid"===t.type&&(e.style.backgroundImage=`linear-gradient(to right, ${t.lineStyle} ${t.lineWidth}px, transparent ${t.lineWidth}px), linear-gradient(to bottom, ${t.lineStyle} ${t.lineWidth}px, transparent ${t.lineWidth}px)`),e.style.backgroundPosition=`${n+this.translate.x}px ${s+this.translate.y}px`,e.style.backgroundSize=`${t.size}px ${t.size}px`}toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}changeDarkLightModeEvent(e){this.isUserToggleDarkLightMode&&!e||(this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),this.isDarkMode?(this.dom.favicon.href="./img/TexField.dark.png",this.background.lineStyle="#888",this.background.color="#333",this.changeBackground(),document.body.classList.add("dark")):(this.dom.favicon.href="./img/TexField.light.png",this.background.lineStyle=this._background.lineStyle,this.background.color=this._background.color,this.changeBackground(),document.body.classList.remove("dark"))}getState(){if(!window.MathEditors)return;const e={translate:this.translate,isDarkMode:this.isDarkMode,isUserToggleDarkLightMode:this.isUserToggleDarkLightMode,createTime:this.createTime,background:this.background,matheditors:[],linkpaths:[]};return window.MathEditors.forEach((t=>{const i=t.id,n=this.dom.noteContainer.querySelector(`#${i}`);if(!n)return;const s=Array.from(n.querySelectorAll("div")).filter((e=>e.id.includes(`${i}-`))).map((e=>e.id)),o=parseFloat(n.style.left.replace("px","")),r=parseFloat(n.style.top.replace("px","")),a={id:i,matheditor:t.states,order:s,center:{x:o,y:r},createTime:n.getAttribute("data-create-time")};e.matheditors.push(a)})),Object.keys(this.dom.paths).forEach((t=>{e.linkpaths.push(t.split("-"))})),e}getLaTeX(e){let t=e?"":"\\documentclass{article}\n";return e||(["amsmath","amssymb","amsfonts","geometry","physics"].forEach((e=>t+=`\\usepackage{${e}}\n`)),t+="\\begin{document}\n\n"),window.MathEditors.forEach(((i,n)=>{const s=i.id,o=this.dom.noteContainer.querySelector(`#${s}`);if(!o)return;Array.from(o.querySelectorAll("div")).filter((e=>e.id.includes(`${s}-`))).map((e=>e.id));e||(t+="%".repeat(60)+"\n",t+=`\\section{Note-${n+1}}\t%${s}\n\n`),Object.keys(i.states).forEach((n=>{const s=i.states[n];s.latex&&(e?t+=`$$\n${s.latex}\n$$\n\n`:(t+=`%${n}\n`,t+=`\\begin{equation}\n${s.latex}\n\\end{equation}\n\n`))}))})),e||(t+="\\end{document}"),t}exportState(e){this.checkTranslate();const t=this.getState(),i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,4)),n=document.createElement("a");n.setAttribute("href",i),n.setAttribute("download",e),document.body.appendChild(n),n.click(),n.remove()}exportLaTeX(e){const t=!e.endsWith("tex"),i=this.getLaTeX(t),n=document.createElement("a"),s=new Blob([i],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download=e,n.click(),URL.revokeObjectURL(n.href)}containerDropEvent(e){this.preventDefaults(e);const t=e.dataTransfer.files;if(t.length>0){const e=t[0],i=new FileReader;i.onload=e=>{const t=e.target.result;try{const e=JSON.parse(t);this.loadState(e)}catch(e){console.error(e)}},i.readAsText(e)}}loadState(e){Object.values(this.dom.notes).forEach((e=>{e.remove()})),window.MathEditors=[],this.dom.notes={},this.isDarkMode=e.isDarkMode,this.createTime=e.createTime,this.background=e.background,this.isUserToggleDarkLightMode=e.isUserToggleDarkLightMode,this.smoothMoveTo(e.translate);const t={};e.matheditors.forEach((e=>{t[e.id]=e,this.addNote(e.center.x,e.center.y,e.id,e.createTime,e.matheditor,e.order)})),e.linkpaths.forEach((e=>{const i=e[0],n=e[1];if(!i||!n)return;const s=t[i],o=t[n];this.createBezierCurve(s.center,o.center,i)}))}printInfiniteCanvas(){this.checkTranslate();const e={xmin:1/0,ymin:1/0,xmax:-1/0,ymax:-1/0},t={x:this.translate.x,y:this.translate.y},i=`${this.background.type}`;this.background.type="none",this.changeBackground(),Object.values(this.dom.notes).forEach((t=>{const i=t.getBoundingClientRect(),n=i.x,s=i.y,o=i.x+i.width,r=i.y+i.height;n<e.xmin&&(e.xmin=n),s<e.ymin&&(e.ymin=s),o>e.xmax&&(e.xmax=o),r>e.ymax&&(e.ymax=r)})),this.smoothMoveTo({x:this.translate.x-e.xmin+20,y:this.translate.y-e.ymin+20},200).then((()=>{const n=e.xmax-e.xmin+40,s=e.ymax-e.ymin+40;console.log(n,s),function(e){const t=document.createElement("style");t.type="text/css",t.media="print",t.innerText=e,document.head.appendChild(t)}(`@page {size: ${n}px ${s}px; margin: 0;}`),document.title=`TexField-${L()}`;const o=()=>{this.smoothMoveTo(t,200),this.background.type=i,this.changeBackground(),window.removeEventListener("afterprint",o)};window.addEventListener("afterprint",o.bind(this),!1),window.print()}))}openDesmos(){}askChatGPT(){}};window.addEventListener("load",(e=>{const t=new $({});t.addNote(.5*window.innerWidth,.5*window.innerHeight),window.app=t}))})();